
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Playlist Management System</title>
</head>
<body>
    <h1>User Playlist Detail</h1>
    <div id="playlist-detail"></div>
    <div id="song-list"></div>
    

    <style>
        #song-table {
            border: 0; 
            width: 100%; 
            table-layout: fixed; 
            }

        th {
            background-color: #f2f2f2; 
            padding: 10px; 
            text-align: left; 
        }

        td {
            padding: 10px; 
        }
        
        td button {
            padding: 5px 10px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
        }
    </style>

    <script>
        function showCreatePlaylistForm() {
            const playlists = document.getElementById('playlists');
            const createPlaylistForm = document.getElementById('create-playlist-form');
            playlists.style.display = 'none';
            createPlaylistForm.style.display = 'block';
        }

        var userPlaylistData = {{ user_playlist|safe }};
        var songsData = {{ songs|safe }};
        var namaData = {{ nama|safe }}
        console.log(userPlaylistData)
        console.log(songsData)
        console.log(namaData)

        var playlistDetailDiv = document.getElementById("playlist-detail")
        playlistDetailDiv.innerHTML = `
        <h4>Judul: ${userPlaylistData.judul}</h4>
        <h4>Nama: ${namaData.nama}</h4>
        <h4>Jumlah Lagu: ${songsData.length}</h4>
        <h4>Total Durasi: ${userPlaylistData.total_durasi}</h4>
        <h4>Tanggal Dibuat: ${userPlaylistData.tanggal_dibuat}</h4>
        <h4>Deskripsi: ${userPlaylistData.deskripsi}</h4>`

        var songListDiv = document.getElementById('song-list')
        var songListHTML = `<table id="song-table">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Judul</th>
                                                    <th scope="col">Oleh</th>
                                                    <th scope="col">Durasi</th>
                                                    <th scope="col">Action</th>
                                                </tr>
                                            </thead>
                                        <tbody>`
        for (const song of songsData) {
            songListHTML += `  <tr>
                                    <th  scope="row">${song.judul}</th>
                                    <td>${song.nama_artis}</td>
                                    <td>${song.durasi} menit</td>
                                    <td>
                                        <button>Lihat</button>
                                        <button>Play</button>
                                        <button>Hapus</button>
                                    </td>
                                    </br>
                                </tr>`
        }
        songListHTML += `</tbody></table>
                <button type="button">Tambah Lagu</button>`
        songListDiv.innerHTML = songListHTML




    </script>
</body>
</html>